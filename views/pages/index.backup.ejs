<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.5.207/pdf.min.js"></script> -->
        <script type="text/javascript" src="/js/math.js"></script>
        

      <script src="https://unpkg.com/d3@3/d3.min.js"></script>
      <script src="/js/function_plot.js"></script>

      <script type="text/javascript" src="/socket.io/socket.io.js"></script>


        
    <script type="text/javascript" src="/js/socketio_script.js"></script>

    <script type="text/javascript" src="/js/pdf.js"></script>



        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        

        
        
        
        
    </head>

    <body onload="onLoad();">
      
        <style>

        	section{
        		height:100%;
        		width:100%;
        		/*display: flex;
  justify-content: center;
  background:#222;
  align-items: center;*/	
        		
  	      	}
            
          
svg{
    font-size: 1;
}

#myCanvas{
	width: 800px;
	height:600px;
	background-color: #666;
	 



}

.sketchdiv{

margin:auto;

}
       </style>

       <a href="#" onclick="createRoom();">create room</a>
<script>

//   function initt() {
//     console.log("onload called");
//   gapi.load('auth2', function() {
//      console.log("onload called");
//     gapi.auth2.init({client_id: '567112201060-i34emibvl8p17rrgh1trctlgvn8n2o19.apps.googleusercontent.com'});
//     /* Ready. Make a call to gapi.auth2.init or some other API */
//   });
// }
function createRoom() {
          var xhttp = new XMLHttpRequest();
         
          

          xhttp.onreadystatechange = function() {
            //console.log(this.responseText);
            if (this.readyState == 4 && this.status == 200) {
              var json=JSON.parse(this.responseText);
              if(json.status=="success"){
                //console.log(this.responseText);
                //window.location.href="/";
              }
              //document.getElementById("demo").innerHTML = this.responseText;
            }
            
          };
          xhttp.open("GET", "/user/create_room", true);
          console.log("sent details");
          xhttp.send();
        }


  function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
      console.log('User signed out.');
    });
  };
   function onLoad() {
    console.log("onload");
      gapi.load('auth2', function() {
        
        console.log("onload called");
   
    gapi.auth2.init({client_id: '567112201060-i34emibvl8p17rrgh1trctlgvn8n2o19.apps.googleusercontent.com'});
      });
    }


    window.addEventListener('load', (event) => {
     onLoad();
    });
    // window.onload = function()
    // {
    //   console.log("onload called");
    //   gapi.auth2.init({client_id: '567112201060-i34emibvl8p17rrgh1trctlgvn8n2o19.apps.googleusercontent.com'});
    // }
</script>

       <input type="text" id="eqtn" name="eqtn" value="x^2,x^3,x^5,cos(x)">
        <button onclick="plot(document.getElementById('eqtn').value);">PLOT</button>
        <section>
        
        <div style="width:100%;height:100%padding:40px; margin:20px;" id="canv"></div>

         <script type="text/javascript" src="/js/plot_script.js"></script>
       </section>
        <div id="container">
            <button id="recordButton">Record</button>
            <button id="pauseButton" disabled>Pause</button>
            <button id="stopButton">Stop</button>
        </div>
       
        <ul id="events"></ul>

        <button onclick="setMaster();">Master</button>
        <button onclick="setSlave();">Slave</button>
        <br>

        <video id="v" height="500px" width="700px" ></video>
        <br>

        
  
<button onclick="rem();">DELETE</button>
    <button onclick="lineTool();">LINE</button>
    <button onclick="circleTool();">CIRCLE</button>
    <button onclick="pathTool();">PATH</button>
    <br>
<section class="sketchdiv"><canvas id="myCanvas"></canvas></section>


<section>
	<canvas style="width: 200px;height:500px;" id="pdfcanvas"></canvas>
	 <header>
      <h1 id="title"></h1>
    </header>

    <div id="viewerContainer">
      <div id="viewer" class="pdfViewer"></div>
    </div>

    <div id="loadingBar">
      <div class="progress"></div>
      <div class="glimmer"></div>
    </div>

    <div id="errorWrapper" hidden="true">
      <div id="errorMessageLeft">
        <span id="errorMessage"></span>
        <button id="errorShowMore">
          More Information
        </button>
        <button id="errorShowLess">
          Less Information
        </button>
      </div>
      <div id="errorMessageRight">
        <button id="errorClose">
          Close
        </button>
      </div>
      <div class="clearBoth"></div>
      <textarea id="errorMoreInfo" hidden="true" readonly="readonly"></textarea>
    </div>

    <footer>
      <button class="toolbarButton pageUp" title="Previous Page" id="previous"></button>
      <button class="toolbarButton pageDown" title="Next Page" id="next"></button>

      <input type="number" id="pageNumber" class="toolbarField pageNumber" value="1" size="4" min="1">

      <button class="toolbarButton zoomOut" title="Zoom Out" id="zoomOut"></button>
      <button class="toolbarButton zoomIn" title="Zoom In" id="zoomIn"></button>
    </footer>

     
     
</section>
        
        

       
    </body>
    <script src="js/pdf_script.js"></script>
    <script type="text/javascript" src="/js/adapter.js"></script>
    <!-- <script type="text/javascript" src="/js/player.js"></script>
    <script type="text/javascript" src="/js/player_script.js"></script> -->

    <script type="text/javascript" src="/js/utility_functions.js"></script>
    
    <script type="text/javascript" src="js/paper.js"></script>
        <script type="text/javascript" src="js/paper_script.js"></script>

    <script type="text/javascript" src="/js/media_capture.js"></script>
     <script src="https://apis.google.com/js/platform.js?onload=initt" async defer></script>
        

</html>
